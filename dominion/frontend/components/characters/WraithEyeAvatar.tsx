import React from 'react';

interface Props {
  size?: number;
  className?: string;
}

const WraithEyeAvatar: React.FC<Props> = ({ size = 128, className }) => {
  const p = size / 32;

  const pixels: [number, number, string][] = [
    // Shadow tendrils top
    [15,1,'#581c87'],[16,1,'#581c87'],
    [14,2,'#581c87'],[15,2,'#0a0a0a'],[16,2,'#0a0a0a'],[17,2,'#581c87'],
    [12,3,'#581c87'],[13,3,'#0a0a0a'],[14,3,'#0a0a0a'],[17,3,'#0a0a0a'],[18,3,'#0a0a0a'],[19,3,'#581c87'],

    // Upper eye lid
    [11,5,'#581c87'],[12,5,'#0a0a0a'],[13,5,'#0a0a0a'],[14,5,'#0a0a0a'],[15,5,'#0a0a0a'],[16,5,'#0a0a0a'],[17,5,'#0a0a0a'],[18,5,'#0a0a0a'],[19,5,'#0a0a0a'],[20,5,'#581c87'],
    [10,6,'#0a0a0a'],[11,6,'#581c87'],[12,6,'#581c87'],[13,6,'#581c87'],[14,6,'#581c87'],[15,6,'#581c87'],[16,6,'#581c87'],[17,6,'#581c87'],[18,6,'#581c87'],[19,6,'#581c87'],[20,6,'#581c87'],[21,6,'#0a0a0a'],

    // Eye white / sclera
    [9,7,'#0a0a0a'],[10,7,'#581c87'],[11,7,'#1a0a2e'],[12,7,'#1a0a2e'],[13,7,'#1a0a2e'],[14,7,'#1a0a2e'],[15,7,'#1a0a2e'],[16,7,'#1a0a2e'],[17,7,'#1a0a2e'],[18,7,'#1a0a2e'],[19,7,'#1a0a2e'],[20,7,'#1a0a2e'],[21,7,'#581c87'],[22,7,'#0a0a0a'],
    [8,8,'#0a0a0a'],[9,8,'#581c87'],[10,8,'#1a0a2e'],[11,8,'#1a0a2e'],[12,8,'#1a0a2e'],[13,8,'#1a0a2e'],[14,8,'#1a0a2e'],[15,8,'#1a0a2e'],[16,8,'#1a0a2e'],[17,8,'#1a0a2e'],[18,8,'#1a0a2e'],[19,8,'#1a0a2e'],[20,8,'#1a0a2e'],[21,8,'#1a0a2e'],[22,8,'#581c87'],[23,8,'#0a0a0a'],

    // Iris ring
    [8,9,'#0a0a0a'],[9,9,'#1a0a2e'],[10,9,'#1a0a2e'],[11,9,'#1a0a2e'],[12,9,'#1a0a2e'],[13,9,'#ef4444'],[14,9,'#ef4444'],[15,9,'#ef4444'],[16,9,'#ef4444'],[17,9,'#ef4444'],[18,9,'#ef4444'],[19,9,'#1a0a2e'],[20,9,'#1a0a2e'],[21,9,'#1a0a2e'],[22,9,'#1a0a2e'],[23,9,'#0a0a0a'],
    [8,10,'#0a0a0a'],[9,10,'#1a0a2e'],[10,10,'#1a0a2e'],[11,10,'#1a0a2e'],[12,10,'#ef4444'],[13,10,'#dc2626'],[14,10,'#dc2626'],[15,10,'#0a0a0a'],[16,10,'#0a0a0a'],[17,10,'#dc2626'],[18,10,'#dc2626'],[19,10,'#ef4444'],[20,10,'#1a0a2e'],[21,10,'#1a0a2e'],[22,10,'#1a0a2e'],[23,10,'#0a0a0a'],
    // Pupil
    [8,11,'#0a0a0a'],[9,11,'#1a0a2e'],[10,11,'#1a0a2e'],[11,11,'#ef4444'],[12,11,'#dc2626'],[13,11,'#0a0a0a'],[14,11,'#0a0a0a'],[15,11,'#0a0a0a'],[16,11,'#0a0a0a'],[17,11,'#0a0a0a'],[18,11,'#0a0a0a'],[19,11,'#dc2626'],[20,11,'#ef4444'],[21,11,'#1a0a2e'],[22,11,'#1a0a2e'],[23,11,'#0a0a0a'],
    [8,12,'#0a0a0a'],[9,12,'#1a0a2e'],[10,12,'#1a0a2e'],[11,12,'#ef4444'],[12,12,'#dc2626'],[13,12,'#0a0a0a'],[14,12,'#0a0a0a'],[15,12,'#0a0a0a'],[16,12,'#0a0a0a'],[17,12,'#0a0a0a'],[18,12,'#0a0a0a'],[19,12,'#dc2626'],[20,12,'#ef4444'],[21,12,'#1a0a2e'],[22,12,'#1a0a2e'],[23,12,'#0a0a0a'],
    [8,13,'#0a0a0a'],[9,13,'#1a0a2e'],[10,13,'#1a0a2e'],[11,13,'#1a0a2e'],[12,13,'#ef4444'],[13,13,'#dc2626'],[14,13,'#dc2626'],[15,13,'#0a0a0a'],[16,13,'#0a0a0a'],[17,13,'#dc2626'],[18,13,'#dc2626'],[19,13,'#ef4444'],[20,13,'#1a0a2e'],[21,13,'#1a0a2e'],[22,13,'#1a0a2e'],[23,13,'#0a0a0a'],
    [8,14,'#0a0a0a'],[9,14,'#1a0a2e'],[10,14,'#1a0a2e'],[11,14,'#1a0a2e'],[12,14,'#1a0a2e'],[13,14,'#ef4444'],[14,14,'#ef4444'],[15,14,'#ef4444'],[16,14,'#ef4444'],[17,14,'#ef4444'],[18,14,'#ef4444'],[19,14,'#1a0a2e'],[20,14,'#1a0a2e'],[21,14,'#1a0a2e'],[22,14,'#1a0a2e'],[23,14,'#0a0a0a'],

    // Lower sclera
    [8,15,'#0a0a0a'],[9,15,'#581c87'],[10,15,'#1a0a2e'],[11,15,'#1a0a2e'],[12,15,'#1a0a2e'],[13,15,'#1a0a2e'],[14,15,'#1a0a2e'],[15,15,'#1a0a2e'],[16,15,'#1a0a2e'],[17,15,'#1a0a2e'],[18,15,'#1a0a2e'],[19,15,'#1a0a2e'],[20,15,'#1a0a2e'],[21,15,'#1a0a2e'],[22,15,'#581c87'],[23,15,'#0a0a0a'],
    [9,16,'#0a0a0a'],[10,16,'#581c87'],[11,16,'#1a0a2e'],[12,16,'#1a0a2e'],[13,16,'#1a0a2e'],[14,16,'#1a0a2e'],[15,16,'#1a0a2e'],[16,16,'#1a0a2e'],[17,16,'#1a0a2e'],[18,16,'#1a0a2e'],[19,16,'#1a0a2e'],[20,16,'#1a0a2e'],[21,16,'#581c87'],[22,16,'#0a0a0a'],

    // Lower eyelid
    [10,17,'#0a0a0a'],[11,17,'#581c87'],[12,17,'#581c87'],[13,17,'#581c87'],[14,17,'#581c87'],[15,17,'#581c87'],[16,17,'#581c87'],[17,17,'#581c87'],[18,17,'#581c87'],[19,17,'#581c87'],[20,17,'#581c87'],[21,17,'#0a0a0a'],
    [11,18,'#581c87'],[12,18,'#0a0a0a'],[13,18,'#0a0a0a'],[14,18,'#0a0a0a'],[15,18,'#0a0a0a'],[16,18,'#0a0a0a'],[17,18,'#0a0a0a'],[18,18,'#0a0a0a'],[19,18,'#0a0a0a'],[20,18,'#581c87'],

    // Shadow tendrils below
    [10,19,'#0a0a0a'],[11,19,'#581c87'],[14,19,'#0a0a0a'],[17,19,'#0a0a0a'],[20,19,'#581c87'],[21,19,'#0a0a0a'],
    [8,20,'#0a0a0a'],[9,20,'#581c87'],[13,20,'#581c87'],[18,20,'#581c87'],[22,20,'#581c87'],[23,20,'#0a0a0a'],
    [7,21,'#581c87'],[8,21,'#0a0a0a'],[12,21,'#0a0a0a'],[19,21,'#0a0a0a'],[23,21,'#0a0a0a'],[24,21,'#581c87'],
    [6,22,'#0a0a0a'],[7,22,'#581c87'],[11,22,'#581c87'],[20,22,'#581c87'],[24,22,'#581c87'],[25,22,'#0a0a0a'],
    [5,23,'#581c87'],[10,23,'#0a0a0a'],[21,23,'#0a0a0a'],[26,23,'#581c87'],
    [4,24,'#0a0a0a'],[9,24,'#581c87'],[22,24,'#581c87'],[27,24,'#0a0a0a'],
    [3,25,'#581c87'],[8,25,'#0a0a0a'],[23,25,'#0a0a0a'],[28,25,'#581c87'],

    // Side tendrils
    [5,9,'#0a0a0a'],[4,10,'#581c87'],[3,11,'#0a0a0a'],[2,12,'#581c87'],
    [26,9,'#0a0a0a'],[27,10,'#581c87'],[28,11,'#0a0a0a'],[29,12,'#581c87'],
    [4,14,'#581c87'],[3,15,'#0a0a0a'],[2,16,'#581c87'],
    [27,14,'#581c87'],[28,15,'#0a0a0a'],[29,16,'#581c87'],
  ];

  return (
    <svg
      width={size}
      height={size}
      viewBox={`0 0 ${size} ${size}`}
      className={className}
      style={{ imageRendering: 'pixelated' }}
    >
      <defs>
        <filter id="wraith-glow">
          <feGaussianBlur stdDeviation="3" result="blur" />
          <feComposite in="SourceGraphic" in2="blur" operator="over" />
        </filter>
      </defs>
      {/* Float animation */}
      <g>
        <animateTransform attributeName="transform" type="translate" values={`0,0;0,${-p};0,0`} dur="5s" repeatCount="indefinite" />
        {pixels.map(([x, y, color], i) => (
          <rect key={i} x={x * p} y={y * p} width={p} height={p} fill={color} />
        ))}
        {/* Pupil glow */}
        <circle cx={15.5 * p} cy={11.5 * p} r={3 * p} fill="#ef4444" opacity="0.15" filter="url(#wraith-glow)">
          <animate attributeName="opacity" values="0.15;0.4;0.15" dur="2s" repeatCount="indefinite" />
        </circle>
        {/* Iris pulse */}
        <circle cx={15.5 * p} cy={11.5 * p} r={4.5 * p} fill="none" stroke="#ef4444" strokeWidth={p * 0.3} opacity="0.3">
          <animate attributeName="r" values={`${4.5*p};${6*p};${4.5*p}`} dur="3s" repeatCount="indefinite" />
          <animate attributeName="opacity" values="0.3;0;0.3" dur="3s" repeatCount="indefinite" />
        </circle>
      </g>
    </svg>
  );
};

export default WraithEyeAvatar;
